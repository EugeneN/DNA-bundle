// Generated by CoffeeScript 1.6.2
(function() {
  var emitter, ev_channel_impl, ev_channel_protocol;

  emitter = require('event-channel').emitter;

  ev_channel_protocol = [['pub', ['ev', 'args']], ['sub', ['ev', 'handler']]];

  ev_channel_impl = function() {
    return {
      pub: function(ev, args) {
        return emitter.pub(ev, args);
      },
      sub: function(ev, handler) {
        if (ev instanceof Function) {
          return emitter.sub(ev(), handler);
        } else {
          return emitter.sub(ev, handler);
        }
      }
    };
  };

  module.exports = {
    protocols: {
      definitions: {
        EventChannel: ev_channel_protocol
      },
      implementations: {
        EventChannel: ev_channel_impl
      }
    }
  };

}).call(this);
